image: node:18.14.0-bullseye-slim

stages:
  - publish

login:
  stage: publish
  script:
    - npm ci --force
    - npm install -g firebase-tools --force
    - firebase login --token "$FIREBASE_TOKEN"

Publish TappSPA-TEST:
  stage: publish
  needs:
    [login]
  script:
  - npm run build --prod
  - firebase deploy --token "$FIREBASE_TOKEN"
